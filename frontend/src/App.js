import React from 'react';\nimport { BrowserRouter, Routes, Route, Navigate } from 'react-router-dom';\nimport { Toaster } from './components/ui/sonner';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport { Navbar } from './components/Navbar';\nimport { Footer } from './components/Footer';\n\n// Pages\nimport Home from './pages/Home';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport CompleteProfile from './pages/CompleteProfile';\nimport CreateEditListing from './pages/CreateEditListing';\nimport ChatPage from './pages/ChatPage';\n\nconst ProtectedRoute = ({ children }) => {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-slate-500\">YÃ¼kleniyor...</div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return children;\n};\n\nconst AppContent = () => {\n  return (\n    <div className=\"flex flex-col min-h-screen\">\n      <Navbar />\n      <main className=\"flex-1\">\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/register\" element={<Register />} />\n          <Route\n            path=\"/profile/complete\"\n            element={\n              <ProtectedRoute>\n                <CompleteProfile />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/dashboard\"\n            element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/listings/create\"\n            element={\n              <ProtectedRoute>\n                <CreateEditListing />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/listings/:id/edit\"\n            element={\n              <ProtectedRoute>\n                <CreateEditListing />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/messages/:conversationId\"\n            element={\n              <ProtectedRoute>\n                <ChatPage />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/messages\"\n            element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/profile\"\n            element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            }\n          />\n        </Routes>\n      </main>\n      <Footer />\n      <Toaster position=\"top-right\" />\n    </div>\n  );\n};\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <AppContent />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n